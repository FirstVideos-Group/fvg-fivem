<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8"/>
    <title>fvg-courier ‚Äì Export dokument√°ci√≥</title>
    <link rel="stylesheet" href="https://use.hugeicons.com/font/icons.css"/>
    <style>
        :root{--bg:#0a0c12;--card:#161b24;--code:#0f172a;--border:#1e293b;--tp:#f1f5f9;--ts:#94a3b8;--tm:#475569;--ac:#f59e0b;--font:'Segoe UI',system-ui,sans-serif}
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        body{background:var(--bg);color:var(--tp);font-family:var(--font);padding:48px 28px 120px;max-width:1020px;margin:0 auto}
        h1{font-size:28px;font-weight:800;margin-bottom:6px}
        .sub{color:var(--tm);font-size:14px;line-height:1.7;margin-bottom:48px}
        .badge{display:inline-block;background:rgba(245,158,11,.12);color:var(--ac);font-size:11px;font-weight:700;padding:2px 10px;border-radius:20px;letter-spacing:.05em;margin-left:10px;border:1px solid rgba(245,158,11,.25)}
        section{margin-bottom:44px}
        .st{font-size:11px;font-weight:700;color:var(--tm);text-transform:uppercase;letter-spacing:.1em;border-bottom:1px solid var(--border);padding-bottom:10px;margin-bottom:16px}
        .card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:22px 24px;margin-bottom:14px}
        .sig{font-family:monospace;font-size:13px;font-weight:700;color:var(--ac);margin-bottom:6px;line-height:1.9}
        .side{display:inline-block;font-size:10px;font-weight:700;padding:2px 8px;border-radius:4px;text-transform:uppercase;letter-spacing:.06em;margin-bottom:10px}
        .ss{background:rgba(239,68,68,.12);color:#ef4444;border:1px solid rgba(239,68,68,.25)}
        .sc{background:rgba(34,197,94,.12);color:#22c55e;border:1px solid rgba(34,197,94,.25)}
        .desc{font-size:13px;color:var(--ts);line-height:1.65;margin-bottom:14px}
        table{width:100%;border-collapse:collapse;margin-bottom:14px}
        th{font-size:10px;font-weight:700;color:var(--tm);text-transform:uppercase;letter-spacing:.08em;text-align:left;padding:6px 10px;border-bottom:1px solid var(--border)}
        td{font-size:12px;padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.04);color:var(--ts);vertical-align:top}
        tr:last-child td{border-bottom:none}
        .pn{font-family:monospace;color:#a78bfa}.pt{font-family:monospace;color:#f59e0b}.pv{font-family:monospace;color:#7dd3fc}
        .cl{font-size:10px;font-weight:700;color:var(--tm);text-transform:uppercase;letter-spacing:.08em;margin-bottom:6px;margin-top:14px}
        code{display:block;background:var(--code);border:1px solid var(--border);border-radius:8px;padding:14px 16px;font-size:12px;color:#7dd3fc;font-family:'Cascadia Code','Fira Code',monospace;white-space:pre;overflow-x:auto;line-height:1.7}
        .info{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;border-radius:8px;background:rgba(245,158,11,.07);border:1px solid rgba(245,158,11,.2);font-size:12px;color:#fcd34d;line-height:1.6;margin-top:14px}
        .info i{font-size:16px;flex-shrink:0;color:var(--ac)}
        .dgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
        .dc{background:var(--code);border:1px solid var(--border);border-radius:10px;padding:16px;display:flex;flex-direction:column;gap:8px}
        .dct{font-size:11px;font-weight:700;color:var(--tm);text-transform:uppercase;letter-spacing:.08em;display:flex;align-items:center;gap:7px}
        .dct i{font-size:14px;color:var(--ac)}
        .dbtn{display:flex;align-items:center;justify-content:center;gap:7px;padding:8px 14px;border-radius:8px;border:none;font-size:12px;font-weight:600;cursor:pointer;transition:opacity .15s;font-family:var(--font);width:100%}
        .dbtn:hover{opacity:.8}
        .ba{background:rgba(245,158,11,.15);color:#f59e0b;border:1px solid rgba(245,158,11,.25)}
        .bs{background:rgba(34,197,94,.15);color:#22c55e;border:1px solid rgba(34,197,94,.25)}
        .bd{background:rgba(239,68,68,.15);color:#ef4444;border:1px solid rgba(239,68,68,.25)}
        .bw{background:rgba(56,189,248,.15);color:#38bdf8;border:1px solid rgba(56,189,248,.25)}
        .dout{font-family:monospace;font-size:11px;color:var(--tm);min-height:16px;line-height:1.7}
        .dout.ok{color:#22c55e}.dout.err{color:#ef4444}.dout.warn{color:#f59e0b}
        .dsel,.dinp{background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:7px;padding:7px 10px;color:var(--tp);font-size:12px;outline:none;font-family:var(--font);width:100%}
        .event-tag{display:inline-block;font-size:10px;font-weight:700;padding:2px 8px;border-radius:4px;background:rgba(167,139,250,.12);color:#a78bfa;border:1px solid rgba(167,139,250,.25);margin-right:6px}
        .level-bar{height:6px;background:rgba(255,255,255,.06);border-radius:99px;overflow:hidden;margin:6px 0}
        .level-fill{height:100%;background:var(--ac);border-radius:99px;transition:width .4s ease}
    </style>
</head>
<body>

<h1>fvg-courier <span class="badge">v1.0.0</span></h1>
<p class="sub">
    FirstVideos Group ¬∑ Fut√°r munkaszystem ‚Äî csomagk√©zbes√≠t√©s, XP/szint progresszi√≥, sorozat b√≥nuszok, ranglista.<br>
    DB t√°bl√°k: <code style="display:inline;font-size:12px;color:#7dd3fc">fvg_courier_stats ¬∑ fvg_courier_deliveries</code><br>
    Integr√°ci√≥k: <strong>fvg-playercore</strong> (job ellen≈ërz√©s) ¬∑ <strong>fvg-banking</strong> (jutalom) ¬∑
    <strong>fvg-inventory</strong> (csomag item) ¬∑ <strong>fvg-dispatch</strong> (k√∂r √©rtes√≠t√©s) ¬∑
    <strong>fvg-unemployment</strong> (courier job forr√°s)
</p>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     SZERVER EXPORTOK
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Szerver exportok</div>

    <!-- GetActiveDelivery -->
    <div class="card">
        <div class="sig">exports['fvg-courier']:GetActiveDelivery(source) ‚Üí table | nil</div>
        <span class="side ss">Server</span>
        <div class="desc">
            Visszaadja a j√°t√©kos aktu√°lisan fut√≥ k√∂r√©nek adatait, vagy <code>nil</code>-t ha nincs akt√≠v k√∂r.
            Hasznos m√°s scriptekn√©l pl. ha fut√°r k√∂zben nem akarjuk engedni a bolt megnyit√°st.
        </div>
        <table>
            <thead><tr><th>Visszat√©r√©si mez≈ë</th><th>T√≠pus</th><th>Le√≠r√°s</th></tr></thead>
            <tbody>
                <tr><td class="pn">runId</td>       <td class="pt">string</td>  <td>K√∂r azonos√≠t√≥ja (pl. <code>RUN-042817</code>)</td></tr>
                <tr><td class="pn">spots</td>        <td class="pt">table[]</td> <td>K√©zbes√≠t√©si helysz√≠nek t√∂mbje (<code>{label, coords, done}</code>)</td></tr>
                <tr><td class="pn">currentIdx</td>   <td class="pt">number</td>  <td>Jelenlegi c√©l index (1-t≈ël indul)</td></tr>
                <tr><td class="pn">totalReward</td>  <td class="pt">number</td>  <td>Eddig √∂sszegy≈±lt jutalom ($)</td></tr>
                <tr><td class="pn">isPerfect</td>    <td class="pt">boolean</td> <td>Igaz, ha m√©g minden k√©zbes√≠t√©s id≈ën bel√ºl volt</td></tr>
                <tr><td class="pn">rewardMult</td>   <td class="pt">number</td>  <td>Szint alap√∫ szorz√≥ (pl. 1.2)</td></tr>
                <tr><td class="pn">startedAt</td>    <td class="pt">number</td>  <td>Unix timestamp ‚Äì k√∂r kezdete</td></tr>
            </tbody>
        </table>
        <div class="cl">Lua p√©lda ‚Äì k√ºls≈ë script kondicion√°l√°s</div>
        <code>-- Bolt script: fut√°r k√∂zben ne lehessen √°rut adni
AddEventHandler('fvg-shop:server:BuyItem', function(src, item)
    local run = exports['fvg-courier']:GetActiveDelivery(src)
    if run then
        TriggerClientEvent('fvg-notify:client:Notify', src, {
            type='warning', message='K√©zbes√≠t√©s k√∂zben nem v√°s√°rolhatsz!'
        })
        return
    end
    -- ... v√°s√°rl√°s logika
end)</code>
    </div>

    <!-- GetPlayerStats -->
    <div class="card">
        <div class="sig">exports['fvg-courier']:GetPlayerStats(source) ‚Üí table | nil</div>
        <span class="side ss">Server</span>
        <div class="desc">
            Visszaadja a j√°t√©kos teljes fut√°r statisztik√°j√°t a szerver cache-b≈ël.
            Hasznos jutalomrendszerekhez, admin panelekhez vagy m√°s scriptekhez ahol a fut√°r tapasztalat sz√°m√≠t.
        </div>
        <table>
            <thead><tr><th>Mez≈ë</th><th>T√≠pus</th><th>Le√≠r√°s</th></tr></thead>
            <tbody>
                <tr><td class="pn">xp</td>               <td class="pt">number</td> <td>√ñsszes√≠tett XP</td></tr>
                <tr><td class="pn">level</td>             <td class="pt">number</td> <td>Jelenlegi szint (1‚Äì5)</td></tr>
                <tr><td class="pn">total_deliveries</td>  <td class="pt">number</td> <td>√ñsszes k√©zbes√≠t√©s</td></tr>
                <tr><td class="pn">total_runs</td>        <td class="pt">number</td> <td>√ñsszes befejezett k√∂r</td></tr>
                <tr><td class="pn">perfect_runs</td>      <td class="pt">number</td> <td>T√∂k√©letes k√∂r√∂k sz√°ma</td></tr>
                <tr><td class="pn">streak</td>            <td class="pt">number</td> <td>Jelenlegi sorozat (megszak√≠t√°s n√©lk√ºli k√∂r√∂k)</td></tr>
                <tr><td class="pn">total_earned</td>      <td class="pt">number</td> <td>√ñsszes megkeresett $ √∂sszeg</td></tr>
            </tbody>
        </table>
        <div class="cl">Lua p√©lda ‚Äì admin lek√©r√©s</div>
        <code>-- Admin parancs: j√°t√©kos fut√°r statisztika
RegisterCommand('courierstats', function(src, args)
    if not exports['fvg-admin']:IsAdmin(src) then return end
    local target = tonumber(args[1])
    local stats  = exports['fvg-courier']:GetPlayerStats(target)
    if not stats then
        TriggerClientEvent('fvg-notify:client:Notify', src, { type='error', message='Nincs adat.' })
        return
    end
    print(string.format(
        '[COURIER] %s ‚Üí XP: %d | Szint: %d | K√©zbes√≠t√©s: %d | Kereset: $%d',
        GetPlayerName(target), stats.xp, stats.level,
        stats.total_deliveries, stats.total_earned
    ))
end, true)</code>
    </div>

    <!-- GetLeaderboard -->
    <div class="card">
        <div class="sig">exports['fvg-courier']:GetLeaderboard(limit?) ‚Üí table[]</div>
        <span class="side ss">Server</span>
        <div class="desc">
            Visszaadja a legjobb fut√°rokat k√©zbes√≠t√©sek sz√°ma szerint rendezve.
            A <code>limit</code> param√©ter opcion√°lis, alap√©rtelmezett √©rt√©ke 10, maximum 50.
            M√°s scriptekb≈ël is lek√©rhet≈ë, pl. egy √°ltal√°nos ranglista script sz√°m√°ra.
        </div>
        <table>
            <thead><tr><th>Visszat√©r√©si mez≈ë</th><th>T√≠pus</th><th>Le√≠r√°s</th></tr></thead>
            <tbody>
                <tr><td class="pn">player_id</td>        <td class="pt">number</td> <td>DB player ID</td></tr>
                <tr><td class="pn">firstname</td>         <td class="pt">string</td> <td>Keresztn√©v (fvg_players alapj√°n)</td></tr>
                <tr><td class="pn">lastname</td>          <td class="pt">string</td> <td>Vezet√©kn√©v</td></tr>
                <tr><td class="pn">xp</td>                <td class="pt">number</td> <td>√ñsszes√≠tett XP</td></tr>
                <tr><td class="pn">level</td>             <td class="pt">number</td> <td>Szint</td></tr>
                <tr><td class="pn">total_deliveries</td>  <td class="pt">number</td> <td>√ñsszes k√©zbes√≠t√©s</td></tr>
                <tr><td class="pn">total_earned</td>      <td class="pt">number</td> <td>√ñsszes kereset</td></tr>
            </tbody>
        </table>
        <div class="cl">Lua p√©lda ‚Äì √°ltal√°nos ranglista scriptnek</div>
        <code>-- fvg-leaderboard script integr√°l√°s
exports('GetCourierTop10', function()
    return exports['fvg-courier']:GetLeaderboard(10)
end)</code>
    </div>

    <!-- ForceStartDelivery -->
    <div class="card">
        <div class="sig">exports['fvg-courier']:ForceStartDelivery(source) ‚Üí void</div>
        <span class="side ss">Server</span>
        <div class="desc">
            Admin / esem√©ny alap√∫ k√∂r k√©nyszer√≠tett ind√≠t√°s. Megker√ºli a depot helysz√≠n ellen≈ërz√©st,
            de a job √©s akt√≠v k√∂r felt√©telek tov√°bbra is √©rv√©nyesek.
            Hasznos speci√°lis misszi√≥k ind√≠t√°s√°hoz vagy admin tesztel√©shez.
        </div>
        <div class="cl">Lua p√©lda ‚Äì admin parancs</div>
        <code>RegisterCommand('startcourier', function(src, args)
    if not exports['fvg-admin']:IsAdmin(src) then return end
    local target = tonumber(args[1]) or src
    exports['fvg-courier']:ForceStartDelivery(target)
end, true)</code>
    </div>

    <!-- CancelDelivery -->
    <div class="card">
        <div class="sig">exports['fvg-courier']:CancelDelivery(source) ‚Üí void</div>
        <span class="side ss">Server</span>
        <div class="desc">
            Megszak√≠tja a j√°t√©kos akt√≠v k√∂r√©t szerver oldalr√≥l. A klienst √©rtes√≠ti a t√∂rl√©sr≈ël,
            a csomagokat elt√°vol√≠tja az inventoryb√≥l √©s a sorozatot null√°zza.
            Haszn√°lhat√≥ letart√≥ztat√°sn√°l, k√≥rh√°zn√°l, vagy admin b√ºntet√©sn√©l.
        </div>
        <div class="cl">Lua p√©lda ‚Äì letart√≥ztat√°sn√°l</div>
        <code>-- fvg-police: letart√≥ztat√°s megszak√≠tja a fut√°r k√∂rt
AddEventHandler('fvg-police:server:PlayerArrested', function(suspectSrc)
    local run = exports['fvg-courier']:GetActiveDelivery(suspectSrc)
    if run then
        exports['fvg-courier']:CancelDelivery(suspectSrc)
        TriggerClientEvent('fvg-notify:client:Notify', suspectSrc, {
            type='error', message='Letart√≥ztat√°s ‚Äì fut√°r k√∂r megszak√≠tva.'
        })
    end
end)</code>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     KLIENS EXPORTOK
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Kliens exportok</div>

    <div class="card">
        <div class="sig">exports['fvg-courier']:IsOnDuty() ‚Üí boolean</div>
        <div class="sig">exports['fvg-courier']:GetLocalDelivery() ‚Üí table | nil</div>
        <span class="side sc">Client</span>
        <div class="desc">
            <code>IsOnDuty()</code> megadja, hogy a helyi j√°t√©kos be van-e l√©pve fut√°r munk√°ba.
            <code>GetLocalDelivery()</code> visszaadja az aktu√°lis k√∂r kliens oldali cache-√©t.
            M√°s HUD scriptek, vagy input blokkol√≥k haszn√°lhatj√°k ezeket.
        </div>
        <div class="cl">Lua p√©lda ‚Äì fvg-hud integr√°l√°s</div>
        <code>-- HUD: fut√°r ikon megjelen√≠t√©s duty alatt
CreateThread(function()
    while true do
        Wait(3000)
        local isDuty = exports['fvg-courier']:IsOnDuty()
        local run    = exports['fvg-courier']:GetLocalDelivery()
        SendNUIMessage({
            action      = 'setCourierStatus',
            onDuty      = isDuty,
            hasActiveRun= run ~= nil,
            progress    = run and {
                done  = #(run.spots or {}),
                total = #(run.spots or {}),
            } or nil,
        })
    end
end)</code>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     SZERVER ESEM√âNY API
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Esem√©ny API ‚Äì m√°s scripteknek</div>

    <div class="card">
        <div class="desc">
            Az al√°bbi szerver oldali esem√©nyek figyelhet≈ëk m√°s scriptekb≈ël az
            <code>AddEventHandler</code> seg√≠ts√©g√©vel. P√©ld√°ul a rend≈ërs√©gi script figyelheti
            a befejezett k√∂r√∂ket jutalomhoz, vagy az admin panel logolhatja az √∂sszes k√∂rt.
        </div>
        <table>
            <thead><tr><th>Esem√©ny</th><th>Param√©terek</th><th>Le√≠r√°s</th></tr></thead>
            <tbody>
                <tr>
                    <td class="pn">fvg-courier:server:RunCompleted</td>
                    <td class="pt">src, totalReward, isPerfect</td>
                    <td>K√∂r sikeresen befejezve</td>
                </tr>
                <tr>
                    <td class="pn">fvg-courier:server:RunTimedOut</td>
                    <td class="pt">src</td>
                    <td>K√∂r id≈ët√∫ll√©p√©s miatt megszakadt</td>
                </tr>
                <tr>
                    <td class="pn">fvg-courier:client:AlertReceived</td>
                    <td class="pt">alert</td>
                    <td>Kliens: dispatch √©rtes√≠t√©s √©rkezett</td>
                </tr>
                <tr>
                    <td class="pn">fvg-courier:client:LevelUp</td>
                    <td class="pt">levelData</td>
                    <td>Kliens: szint emelked√©s</td>
                </tr>
                <tr>
                    <td class="pn">fvg-courier:client:DataUpdated</td>
                    <td class="pt">localData</td>
                    <td>Kliens: helyi cache friss√ºlt</td>
                </tr>
            </tbody>
        </table>
        <div class="cl">Lua p√©lda ‚Äì k√∂r befejez√©s figyel√©se</div>
        <code>-- T√∂k√©letes k√∂r ut√°n k√ºl√∂nleges jutalom
AddEventHandler('fvg-courier:server:RunCompleted', function(src, reward, isPerfect)
    if isPerfect then
        -- Speci√°lis item jutalom t√∂k√©letes k√∂r√©rt
        exports['fvg-inventory']:AddItem(src, 'courier_badge', 1)
        TriggerClientEvent('fvg-notify:client:Notify', src, {
            type    = 'success',
            title   = 'üèÖ T√∂k√©letes fut√°r!',
            message = 'Jutalom: Fut√°r jelv√©ny + $' .. reward
        })
    end
end)</code>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     XP / SZINT RENDSZER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">XP √©s szint rendszer</div>
    <div class="card">
        <div class="desc">
            A fut√°r szintrendszer 5 fokozatb√≥l √°ll. Minden k√©zbes√≠t√©s XP-t ad,
            t√∂k√©letes k√∂rn√©l b√≥nusz XP j√°r. A szint <strong>jutalom szorz√≥t</strong> ad ‚Äî
            magasabb szint≈± fut√°rok ugyanannyi munka ut√°n t√∂bbet keresnek.
        </div>
        <table>
            <thead><tr><th>Szint</th><th>Megnevez√©s</th><th>Sz√ºks√©ges XP</th><th>Jutalom szorz√≥</th></tr></thead>
            <tbody>
                <tr><td class="pv">1</td><td>Kezd≈ë fut√°r</td>       <td class="pt">0 XP</td>    <td class="pn">x1.0</td></tr>
                <tr><td class="pv">2</td><td>Tapasztalt fut√°r</td>  <td class="pt">200 XP</td>  <td class="pn">x1.1</td></tr>
                <tr><td class="pv">3</td><td>Senior fut√°r</td>      <td class="pt">500 XP</td>  <td class="pn">x1.2</td></tr>
                <tr><td class="pv">4</td><td>Profi fut√°r</td>       <td class="pt">1000 XP</td> <td class="pn">x1.35</td></tr>
                <tr><td class="pv">5</td><td>Elit fut√°r</td>        <td class="pt">2000 XP</td> <td class="pn">x1.5</td></tr>
            </tbody>
        </table>
        <div class="info">
            <i class="hgi-stroke hgi-information-circle"></i>
            <span>Az XP √©rt√©kek √©s a szorz√≥k a <code>Config.Levels</code> t√∂mbben szabadon m√≥dos√≠that√≥k.
            A szint szorz√≥ minden jutalomra vonatkozik: alap, id≈ëb√≥nusz, sorozat √©s t√∂k√©letes k√∂r b√≥nusz is.</span>
        </div>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     JUTALOM STRUKT√öRA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Jutalom strukt√∫ra</div>
    <div class="card">
        <table>
            <thead><tr><th>Jutalom t√≠pus</th><th>Alap √∂sszeg</th><th>Felt√©tel</th><th>Config kulcs</th></tr></thead>
            <tbody>
                <tr><td>Alap k√©zbes√≠t√©s</td>       <td class="pt">$300 / csomag</td>       <td>Minden k√©zbes√≠t√©sn√©l</td>             <td class="pn">Config.BaseReward</td></tr>
                <tr><td>Gyors k√©zbes√≠t√©s b√≥nusz</td><td class="pt">+$150 / csomag</td>     <td>Ha az √∂sszes id≈ë ‚â§180 mp</td>         <td class="pn">Config.TimeBonus</td></tr>
                <tr><td>T√∂k√©letes k√∂r b√≥nusz</td>  <td class="pt">+$500 / k√∂r</td>         <td>Minden csomag id≈ën bel√ºl k√©zbes√≠tve</td><td class="pn">Config.PerfectRunBonus</td></tr>
                <tr><td>Sorozat b√≥nusz</td>         <td class="pt">+$50 / sorozat x5</td>  <td>Minden 5. megszak√≠tatlan k√∂rn√©l</td>  <td class="pn">Config.StreakBonus</td></tr>
                <tr><td>XP / k√©zbes√≠t√©s</td>        <td class="pt">10 XP</td>              <td>Mindig</td>                           <td class="pn">Config.XPPerDelivery</td></tr>
                <tr><td>XP t√∂k√©letes k√∂r√©rt</td>    <td class="pt">+5 XP / csomag</td>     <td>Ha isPerfect = true</td>              <td class="pn">Config.XPStreak</td></tr>
            </tbody>
        </table>
        <div class="info">
            <i class="hgi-stroke hgi-information-circle"></i>
            <span>Minden p√©nzjutalom a j√°t√©kos szint szorz√≥j√°val ker√ºl szoroz√°sra kifizet√©s el≈ëtt.
            P√©ld√°ul Elit fut√°rn√°l (x1.5) egy t√∂k√©letes 5 csomagos k√∂r: (5√ó300 + 5√ó150 + 500) √ó 1.5 = <strong>$4,125</strong>.</span>
        </div>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     INTERAKT√çV EXPORT DEMO
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Interakt√≠v export demo</div>
    <div class="card">
        <div class="dgrid">

            <!-- Bal oldal: Stats + GetLeaderboard -->
            <div class="dc">
                <div class="dct"><i class="hgi-stroke hgi-chart-bar-line"></i>GetPlayerStats szimul√°ci√≥</div>
                <select class="dsel" id="d-level">
                    <option value="1">Szint 1 ‚Äì Kezd≈ë (0 XP)</option>
                    <option value="2">Szint 2 ‚Äì Tapasztalt (200 XP)</option>
                    <option value="3">Szint 3 ‚Äì Senior (500 XP)</option>
                    <option value="4">Szint 4 ‚Äì Profi (1000 XP)</option>
                    <option value="5">Szint 5 ‚Äì Elit (2000 XP)</option>
                </select>
                <button class="dbtn ba" onclick="demoGetStats()">
                    <i class="hgi-stroke hgi-search-02"></i>GetPlayerStats
                </button>
                <button class="dbtn bw" onclick="demoGetLeaderboard()">
                    <i class="hgi-stroke hgi-ranking"></i>GetLeaderboard(5)
                </button>
                <div class="dout" id="d-stats-out"></div>
                <div class="level-bar"><div class="level-fill" id="d-xp-bar" style="width:0%"></div></div>
                <div style="font-size:10px;color:var(--tm)" id="d-xp-label">XP: 0</div>
            </div>

            <!-- Jobb oldal: K√∂r szimul√°ci√≥ -->
            <div class="dc">
                <div class="dct"><i class="hgi-stroke hgi-route-02"></i>K√∂r jutalom kalkul√°tor</div>
                <select class="dsel" id="d-calc-level">
                    <option value="1.0">Szint 1 ‚Äì x1.0 szorz√≥</option>
                    <option value="1.1">Szint 2 ‚Äì x1.1 szorz√≥</option>
                    <option value="1.2">Szint 3 ‚Äì x1.2 szorz√≥</option>
                    <option value="1.35">Szint 4 ‚Äì x1.35 szorz√≥</option>
                    <option value="1.5">Szint 5 ‚Äì x1.5 szorz√≥</option>
                </select>
                <div style="display:flex;gap:6px;align-items:center">
                    <label style="font-size:11px;color:var(--tm);white-space:nowrap">Gyors?</label>
                    <input type="checkbox" id="d-fast" checked style="width:auto"/>
                    <label style="font-size:11px;color:var(--tm);white-space:nowrap">T√∂k√©letes?</label>
                    <input type="checkbox" id="d-perfect" checked style="width:auto"/>
                    <label style="font-size:11px;color:var(--tm);white-space:nowrap">Sorozat:</label>
                    <input type="number" class="dinp" id="d-streak" value="5" min="0" max="25" style="width:54px"/>
                </div>
                <button class="dbtn bs" onclick="demoCalcReward()">
                    <i class="hgi-stroke hgi-calculator"></i>Jutalom kisz√°m√≠t√°sa
                </button>
                <div class="dout" id="d-calc-out"></div>
            </div>

        </div>

        <!-- ForceStart / Cancel szimul√°ci√≥ -->
        <div class="dgrid" style="margin-top:12px">
            <div class="dc">
                <div class="dct"><i class="hgi-stroke hgi-play-circle-02"></i>ForceStartDelivery</div>
                <button class="dbtn bs" onclick="demoForceStart()">
                    <i class="hgi-stroke hgi-play-circle-02"></i>ForceStartDelivery(src)
                </button>
                <button class="dbtn bd" onclick="demoCancel()">
                    <i class="hgi-stroke hgi-cancel-01"></i>CancelDelivery(src)
                </button>
                <div class="dout" id="d-run-out"></div>
            </div>
            <div class="dc">
                <div class="dct"><i class="hgi-stroke hgi-user-check-01"></i>IsOnDuty / GetLocalDelivery</div>
                <button class="dbtn ba" onclick="demoToggleDuty()">
                    <i class="hgi-stroke hgi-toggle-off"></i>IsOnDuty toggle
                </button>
                <button class="dbtn bw" onclick="demoGetLocal()">
                    <i class="hgi-stroke hgi-package-delivered"></i>GetLocalDelivery
                </button>
                <div class="dout" id="d-duty-out"></div>
            </div>
        </div>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     IND√çT√ÅSI SORREND
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section>
    <div class="st">Aj√°nlott ind√≠t√°si sorrend (server.cfg)</div>
    <div class="card">
        <code>ensure oxmysql
ensure fvg-database
ensure fvg-playercore
ensure fvg-notify
ensure fvg-banking
ensure fvg-identity
ensure fvg-idcard
ensure fvg-inventory
ensure fvg-dispatch
ensure fvg-unemployment    # courier job forr√°sa
ensure fvg-courier         # ‚Üê itt
ensure fvg-admin
ensure fvg-hud</code>
    </div>
</section>

<script>
    // ‚îÄ‚îÄ Szimul√°ci√≥s √°llapot ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const levelData = {
        1: { label: 'Kezd≈ë fut√°r',      xp: 0,    mult: 1.0,  nextXp: 200 },
        2: { label: 'Tapasztalt fut√°r', xp: 200,  mult: 1.1,  nextXp: 500 },
        3: { label: 'Senior fut√°r',     xp: 500,  mult: 1.2,  nextXp: 1000 },
        4: { label: 'Profi fut√°r',      xp: 1000, mult: 1.35, nextXp: 2000 },
        5: { label: 'Elit fut√°r',       xp: 2000, mult: 1.5,  nextXp: null },
    };

    let simOnDuty  = false;
    let simHasRun  = false;
    let simRunData = null;
    const spots    = ['Alta Street', 'Pillbox Hill', 'Vinewood Blvd.', 'Del Perro strand', 'Rockford Hills'];

    function fmt(n) { return '$' + Number(n).toLocaleString('hu-HU'); }

    // GetPlayerStats
    function demoGetStats() {
        const lvl = parseInt(document.getElementById('d-level').value);
        const ld  = levelData[lvl];
        const simStats = {
            xp: ld.xp + Math.floor(Math.random() * (ld.nextXp ? ld.nextXp - ld.xp : 100)),
            level: lvl,
            total_deliveries: Math.floor(Math.random() * 300) + lvl * 50,
            total_runs: Math.floor(Math.random() * 60) + lvl * 10,
            perfect_runs: Math.floor(Math.random() * 20),
            streak: Math.floor(Math.random() * 10),
            total_earned: Math.floor(Math.random() * 50000) + lvl * 5000,
        };
        const el = document.getElementById('d-stats-out');
        el.className = 'dout ok';
        el.innerHTML = `‚Üí GetPlayerStats()<br>
  xp: <strong style="color:#f59e0b">${simStats.xp}</strong> | szint: <strong>${simStats.level}</strong> (${ld.label})<br>
  k√©zbes√≠t√©s: ${simStats.total_deliveries} | k√∂r: ${simStats.total_runs} | t√∂k√©letes: ${simStats.perfect_runs}<br>
  sorozat: ${simStats.streak} | kereset: <strong style="color:#22c55e">${fmt(simStats.total_earned)}</strong>`;

        // XP bar
        const pct = ld.nextXp
            ? Math.min(((simStats.xp - ld.xp) / (ld.nextXp - ld.xp)) * 100, 100)
            : 100;
        document.getElementById('d-xp-bar').style.width = pct + '%';
        document.getElementById('d-xp-label').textContent = `XP: ${simStats.xp} ${ld.nextXp ? '/ ' + ld.nextXp : '(MAX)'}`;
    }

    // GetLeaderboard
    function demoGetLeaderboard() {
        const names = [
            ['Kov√°cs', 'B√©la'], ['Nagy', 'Anna'], ['T√≥th', 'P√©ter'],
            ['Szab√≥', 'Erika'], ['Horv√°th', 'G√°bor']
        ];
        const el = document.getElementById('d-stats-out');
        el.className = 'dout ok';
        el.innerHTML = '‚Üí GetLeaderboard(5)<br>' + names.map((n, i) => {
            const lvl   = 5 - i;
            const dels  = 500 - i * 80 + Math.floor(Math.random() * 30);
            const earned= dels * 2100;
            return `  #${i+1} <strong style="color:#f59e0b">${n[0]} ${n[1]}</strong> | Szint ${lvl} | ${dels} k√©zbes√≠t√©s | ${fmt(earned)}`;
        }).join('<br>');
        document.getElementById('d-xp-bar').style.width = '0%';
        document.getElementById('d-xp-label').textContent = '';
    }

    // Jutalom kalkul√°tor
    function demoCalcReward() {
        const mult    = parseFloat(document.getElementById('d-calc-level').value);
        const isFast  = document.getElementById('d-fast').checked;
        const isPerf  = document.getElementById('d-perfect').checked;
        const streak  = parseInt(document.getElementById('d-streak').value) || 0;

        const base    = Math.floor(300 * mult) * 5;
        const timeBon = isFast  ? Math.floor(150 * mult) * 5 : 0;
        const perfBon = isPerf  ? Math.floor(500 * mult)     : 0;
        const strkBon = streak >= 5 ? (Math.floor(streak / 5) * 50) : 0;
        const total   = base + timeBon + perfBon + strkBon;

        const el = document.getElementById('d-calc-out');
        el.className = 'dout ok';
        el.innerHTML = `‚Üí Jutalom kalkul√°ci√≥ (x${mult} szorz√≥)<br>
  Alap (5√ó):      <strong style="color:#22c55e">${fmt(base)}</strong><br>
  Gyors b√≥nusz:   <strong style="color:#f59e0b">${isFast ? '+' + fmt(timeBon) : '‚Äì'}</strong><br>
  T√∂k√©letes k√∂r:  <strong style="color:#f59e0b">${isPerf ? '+' + fmt(perfBon) : '‚Äì'}</strong><br>
  Sorozat (${streak}x): <strong style="color:#f59e0b">${strkBon > 0 ? '+' + fmt(strkBon) : '‚Äì'}</strong><br>
  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br>
  √ñSSZESEN:       <strong style="color:#22c55e;font-size:13px">${fmt(total)}</strong>`;
    }

    // ForceStart / Cancel
    function demoForceStart() {
        const el = document.getElementById('d-run-out');
        if (!simOnDuty) {
            el.className = 'dout err';
            el.textContent = '‚Üí ForceStartDelivery() = hiba ‚Äì j√°t√©kos nincs duty-ban'; return;
        }
        if (simHasRun) {
            el.className = 'dout warn';
            el.textContent = '‚Üí ForceStartDelivery() = hiba ‚Äì m√°r van akt√≠v k√∂re'; return;
        }
        simHasRun  = true;
        simRunData = {
            runId: 'RUN-' + String(Math.floor(Math.random() * 999999)).padStart(6,'0'),
            spots: spots.map(s => ({ label: s, done: false })),
            currentIdx: 1, totalReward: 0,
        };
        el.className = 'dout ok';
        el.innerHTML = `‚Üí ForceStartDelivery() = OK<br>  runId: <strong style="color:#f59e0b">${simRunData.runId}</strong><br>  spots: ${spots.length} helysz√≠n`;
    }

    function demoCancel() {
        const el = document.getElementById('d-run-out');
        if (!simHasRun) {
            el.className = 'dout err';
            el.textContent = '‚Üí CancelDelivery() = false ‚Äì nincs akt√≠v k√∂r'; return;
        }
        const id  = simRunData.runId;
        simHasRun  = false;
        simRunData = null;
        el.className = 'dout ok';
        el.innerHTML = `‚Üí CancelDelivery() = OK | k√∂r t√∂r√∂lve: <strong>${id}</strong><br>  ‚Üí sorozat null√°zva, csomagok elt√°vol√≠tva`;
    }

    // IsOnDuty / GetLocalDelivery
    function demoToggleDuty() {
        simOnDuty = !simOnDuty;
        if (!simOnDuty) { simHasRun = false; simRunData = null; }
        const el  = document.getElementById('d-duty-out');
        el.className = 'dout ' + (simOnDuty ? 'ok' : 'warn');
        el.innerHTML = `‚Üí IsOnDuty() = <strong style="color:${simOnDuty ? '#22c55e' : '#f59e0b'}">${simOnDuty}</strong>${simOnDuty ? ' | j√°rm≈± spawned' : ' | j√°rm≈± t√∂r√∂lve'}`;
    }

    function demoGetLocal() {
        const el = document.getElementById('d-duty-out');
        if (!simHasRun || !simRunData) {
            el.className = 'dout warn';
            el.textContent = '‚Üí GetLocalDelivery() = nil (nincs akt√≠v k√∂r)'; return;
        }
        el.className = 'dout ok';
        el.innerHTML = `‚Üí GetLocalDelivery()<br>  runId: <strong style="color:#f59e0b">${simRunData.runId}</strong><br>  currentIdx: ${simRunData.currentIdx} | totalReward: ${fmt(simRunData.totalReward)}<br>  isPerfect: true`;
    }
</script>
</body>
</html>