<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>fvg-hud – Export dokumentáció</title>
    <link rel="stylesheet" href="https://use.hugeicons.com/font/icons.css"/>
    <style>
        :root {
            --fvg-bg-deep:      #0a0c12;
            --fvg-bg-card:      #161b24;
            --fvg-bg-code:      #0f172a;
            --fvg-border:       #1e293b;
            --fvg-text-primary: #f1f5f9;
            --fvg-text-sec:     #94a3b8;
            --fvg-text-muted:   #475569;
            --fvg-accent:       #38bdf8;
            --fvg-radius:       10px;
            --fvg-font:         'Segoe UI', system-ui, sans-serif;

            --clr-health:  #ef4444;
            --clr-shield:  #3b82f6;
            --clr-stamina: #f59e0b;
            --clr-food:    #f97316;
            --clr-water:   #06b6d4;
            --clr-oxygen:  #22d3ee;
            --clr-stress:  #a855f7;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background: var(--fvg-bg-deep);
            color: var(--fvg-text-primary);
            font-family: var(--fvg-font);
            min-height: 100vh;
            padding: 48px 28px 80px;
            max-width: 960px;
            margin: 0 auto;
        }

        /* ── Fejléc ── */
        .page-header { margin-bottom: 48px; }
        .page-header h1 { font-size: 28px; font-weight: 800; color: var(--fvg-text-primary); }
        .page-header p  { color: var(--fvg-text-muted); font-size: 14px; margin-top: 6px; }
        .badge {
            display: inline-block;
            background: rgba(56,189,248,0.12);
            color: var(--fvg-accent);
            font-size: 11px; font-weight: 700;
            padding: 2px 10px; border-radius: 20px;
            letter-spacing: 0.05em; margin-left: 10px;
            vertical-align: middle;
            border: 1px solid rgba(56,189,248,0.25);
        }

        /* ── Szekció ── */
        section { margin-bottom: 44px; }
        .section-title {
            font-size: 11px; font-weight: 700;
            color: var(--fvg-text-muted);
            text-transform: uppercase; letter-spacing: 0.1em;
            border-bottom: 1px solid var(--fvg-border);
            padding-bottom: 10px; margin-bottom: 16px;
        }

        /* ── Export kártya ── */
        .card {
            background: var(--fvg-bg-card);
            border: 1px solid var(--fvg-border);
            border-radius: var(--fvg-radius);
            padding: 22px 24px;
            margin-bottom: 14px;
        }

        .export-sig {
            font-family: monospace;
            font-size: 15px;
            font-weight: 700;
            color: var(--fvg-accent);
            margin-bottom: 8px;
        }
        .export-side {
            display: inline-block;
            font-size: 10px; font-weight: 700;
            padding: 2px 8px; border-radius: 4px;
            text-transform: uppercase; letter-spacing: 0.06em;
            margin-bottom: 10px;
        }
        .side-client { background: rgba(34,197,94,0.12); color: #22c55e; border: 1px solid rgba(34,197,94,0.25); }
        .side-server { background: rgba(239,68,68,0.12);  color: #ef4444; border: 1px solid rgba(239,68,68,0.25); }

        .export-desc {
            font-size: 13px; color: var(--fvg-text-sec);
            line-height: 1.65; margin-bottom: 16px;
        }

        /* ── Paraméter táblázat ── */
        .param-table { width: 100%; border-collapse: collapse; margin-bottom: 16px; }
        .param-table th {
            font-size: 10px; font-weight: 700;
            color: var(--fvg-text-muted);
            text-transform: uppercase; letter-spacing: 0.08em;
            text-align: left; padding: 6px 10px;
            border-bottom: 1px solid var(--fvg-border);
        }
        .param-table td {
            font-size: 12px; padding: 8px 10px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
            vertical-align: top;
            color: var(--fvg-text-sec);
        }
        .param-table tr:last-child td { border-bottom: none; }
        .param-name { font-family: monospace; color: #a78bfa; }
        .param-type { font-family: monospace; color: #f59e0b; }
        .param-opt  { font-size: 10px; color: var(--fvg-text-muted); font-style: italic; }

        /* ── Kód blokk ── */
        code {
            display: block;
            background: var(--fvg-bg-code);
            border: 1px solid var(--fvg-border);
            border-radius: 8px;
            padding: 14px 16px;
            font-size: 12px; color: #7dd3fc;
            font-family: 'Cascadia Code', 'Fira Code', monospace;
            white-space: pre;
            overflow-x: auto;
            line-height: 1.7;
        }
        .code-label {
            font-size: 10px; font-weight: 700;
            color: var(--fvg-text-muted);
            text-transform: uppercase; letter-spacing: 0.08em;
            margin-bottom: 6px; margin-top: 14px;
        }

        /* ── Demo gomb sor ── */
        .demo-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; }
        .demo-btn {
            display: flex; align-items: center; gap: 7px;
            padding: 8px 14px; border-radius: 8px;
            border: none; cursor: pointer;
            font-size: 12px; font-weight: 600;
            transition: opacity 0.15s, transform 0.1s;
            font-family: var(--fvg-font);
        }
        .demo-btn:hover  { opacity: 0.8; }
        .demo-btn:active { transform: scale(0.97); }

        .btn-health  { background: rgba(239,68,68,0.15);   color: var(--clr-health);  border: 1px solid rgba(239,68,68,0.3); }
        .btn-shield  { background: rgba(59,130,246,0.15);  color: var(--clr-shield);  border: 1px solid rgba(59,130,246,0.3); }
        .btn-stamina { background: rgba(245,158,11,0.15);  color: var(--clr-stamina); border: 1px solid rgba(245,158,11,0.3); }
        .btn-food    { background: rgba(249,115,22,0.15);  color: var(--clr-food);    border: 1px solid rgba(249,115,22,0.3); }
        .btn-water   { background: rgba(6,182,212,0.15);   color: var(--clr-water);   border: 1px solid rgba(6,182,212,0.3); }
        .btn-oxygen  { background: rgba(34,211,238,0.15);  color: var(--clr-oxygen);  border: 1px solid rgba(34,211,238,0.3); }
        .btn-stress  { background: rgba(168,85,247,0.15);  color: var(--clr-stress);  border: 1px solid rgba(168,85,247,0.3); }
        .btn-neutral { background: rgba(148,163,184,0.1);  color: var(--fvg-text-sec); border: 1px solid rgba(148,163,184,0.2); }
        .btn-danger  { background: rgba(239,68,68,0.1);    color: #ef4444; border: 1px solid rgba(239,68,68,0.2); }

        /* ── RegisterModule speciális kártya ── */
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(190px, 1fr));
            gap: 10px;
            margin-top: 16px;
        }
        .module-chip {
            display: flex; align-items: center; gap: 10px;
            padding: 10px 14px;
            border-radius: 8px;
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--fvg-border);
            font-size: 13px; font-weight: 600;
        }
        .module-chip i { font-size: 18px; }
        .chip-health  { --mc: var(--clr-health);  } .chip-health  i, .chip-health  span { color: var(--mc); }
        .chip-shield  { --mc: var(--clr-shield);  } .chip-shield  i, .chip-shield  span { color: var(--mc); }
        .chip-stamina { --mc: var(--clr-stamina); } .chip-stamina i, .chip-stamina span { color: var(--mc); }
        .chip-food    { --mc: var(--clr-food);    } .chip-food    i, .chip-food    span { color: var(--mc); }
        .chip-water   { --mc: var(--clr-water);   } .chip-water   i, .chip-water   span { color: var(--mc); }
        .chip-oxygen  { --mc: var(--clr-oxygen);  } .chip-oxygen  i, .chip-oxygen  span { color: var(--mc); }
        .chip-stress  { --mc: var(--clr-stress);  } .chip-stress  i, .chip-stress  span { color: var(--mc); }

        /* ── Élő HUD demo ── */
        #live-hud {
            position: fixed;
            bottom: 28px; right: 28px;
            display: flex; flex-direction: column;
            gap: 6px; align-items: flex-end;
            z-index: 9999; pointer-events: none;
        }
        .fvg-hud-module {
            display: flex; align-items: center; gap: 10px;
            padding: 8px 14px 8px 12px;
            min-width: 175px;
            border-radius: var(--fvg-radius);
            background: rgba(18,21,30,0.92);
            border: 1px solid var(--fvg-border);
            box-shadow: 0 8px 32px rgba(0,0,0,0.55);
            position: relative; overflow: hidden;
            opacity: 1;
            transition: opacity 0.3s ease, max-height 0.35s ease,
                        padding 0.35s ease, margin 0.35s ease, border-width 0.35s ease;
            max-height: 60px;
            pointer-events: none;
        }
        .fvg-hud-module::before {
            content: '';
            position: absolute; left: 0; top: 0; bottom: 0;
            width: 3px; border-radius: var(--fvg-radius) 0 0 var(--fvg-radius);
            background: var(--mc, #64748b);
        }
        .fvg-hud-module.hidden {
            opacity: 0; max-height: 0;
            padding-top: 0; padding-bottom: 0;
            margin: 0; border-width: 0;
        }
        .mod-icon { font-size: 18px; color: var(--mc, #64748b); flex-shrink: 0; }
        .mod-body { flex: 1; display: flex; flex-direction: column; gap: 4px; min-width: 0; }
        .mod-label { font-size: 10px; font-weight: 700; color: var(--fvg-text-muted); text-transform: uppercase; letter-spacing: 0.08em; }
        .mod-track { width: 100%; height: 5px; background: rgba(255,255,255,0.07); border-radius: 99px; overflow: hidden; }
        .mod-fill  { height: 100%; border-radius: 99px; background: var(--mc, #64748b); transition: width 0.25s ease; }
        .mod-fill.low { animation: pulse 1.2s ease-in-out infinite; }
        .mod-val   { font-size: 11px; font-weight: 700; color: var(--fvg-text-sec); min-width: 32px; text-align: right; font-variant-numeric: tabular-nums; }

        .fvg-mod-health  { --mc: var(--clr-health);  }
        .fvg-mod-shield  { --mc: var(--clr-shield);  }
        .fvg-mod-stamina { --mc: var(--clr-stamina); }
        .fvg-mod-food    { --mc: var(--clr-food);    }
        .fvg-mod-water   { --mc: var(--clr-water);   }
        .fvg-mod-oxygen  { --mc: var(--clr-oxygen);  }
        .fvg-mod-stress  { --mc: var(--clr-stress);  }

        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.35} }

        /* ── Toggle panel ── */
        .toggle-grid {
            display: flex; flex-wrap: wrap; gap: 8px;
            margin-top: 16px;
        }
        .toggle-pill {
            display: flex; align-items: center; gap: 8px;
            padding: 7px 14px; border-radius: 99px;
            border: 1px solid var(--fvg-border);
            background: rgba(255,255,255,0.03);
            cursor: pointer;
            font-size: 12px; font-weight: 600;
            color: var(--fvg-text-sec);
            transition: background 0.2s, border-color 0.2s, color 0.2s;
            user-select: none;
        }
        .toggle-pill.active {
            background: rgba(56,189,248,0.1);
            border-color: rgba(56,189,248,0.3);
            color: var(--fvg-accent);
        }
        .toggle-pill i { font-size: 15px; }

        /* ── Info sáv ── */
        .info-bar {
            display: flex; align-items: flex-start; gap: 10px;
            padding: 12px 16px; border-radius: 8px;
            background: rgba(56,189,248,0.07);
            border: 1px solid rgba(56,189,248,0.2);
            font-size: 12px; color: #93c5fd;
            line-height: 1.6; margin-top: 14px;
        }
        .info-bar i { font-size: 16px; flex-shrink: 0; margin-top: 1px; color: var(--fvg-accent); }
    </style>
</head>
<body>

<!-- ══════════════════════════════════════════════ -->
<!--  FEJLÉC                                        -->
<!-- ══════════════════════════════════════════════ -->
<div class="page-header">
    <h1>fvg-hud <span class="badge">v1.0.0</span></h1>
    <p>FirstVideos Group · Moduláris HUD rendszer – Export dokumentáció &amp; interaktív demo</p>
</div>


<!-- ══════════════════════════════════════════════ -->
<!--  1. SetModuleValue                             -->
<!-- ══════════════════════════════════════════════ -->
<section>
    <div class="section-title">Kliens exportok</div>

    <div class="card">
        <div class="export-sig">exports['fvg-hud']:SetModuleValue(id, value, visible)</div>
        <span class="export-side side-client">Client</span>
        <div class="export-desc">
            Beállítja egy HUD modul aktuális értékét és láthatóságát. Ezt hívják az <code style="display:inline;border:none;padding:0 4px;background:transparent;color:#a78bfa;font-size:12px">fvg-needs</code>,
            <code style="display:inline;border:none;padding:0 4px;background:transparent;color:#a78bfa;font-size:12px">fvg-stress</code> és egyéb scriptek, amelyek saját értéket kezelnek.
        </div>

        <table class="param-table">
            <thead><tr><th>Paraméter</th><th>Típus</th><th>Leírás</th></tr></thead>
            <tbody>
                <tr><td class="param-name">id</td>      <td class="param-type">string</td>  <td>A modul azonosítója (pl. <code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">food</code>, <code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">stress</code>)</td></tr>
                <tr><td class="param-name">value</td>   <td class="param-type">number</td>  <td>0–100 közötti érték (százalék)</td></tr>
                <tr><td class="param-name">visible</td> <td class="param-type">boolean</td> <td>Látható legyen-e a modul</td></tr>
            </tbody>
        </table>

        <div class="demo-row">
            <button class="demo-btn btn-health"  onclick="demoSet('health',  72, true)"><i class="hgi-stroke hgi-heart-check"></i>Élet 72%</button>
            <button class="demo-btn btn-health"  onclick="demoSet('health',  18, true)"><i class="hgi-stroke hgi-heart-check"></i>Élet 18% ⚠</button>
            <button class="demo-btn btn-shield"  onclick="demoSet('shield',  55, true)"><i class="hgi-stroke hgi-shield-02"></i>Pajzs 55%</button>
            <button class="demo-btn btn-shield"  onclick="demoSet('shield',  0,  false)"><i class="hgi-stroke hgi-shield-02"></i>Pajzs elrejt</button>
            <button class="demo-btn btn-stamina" onclick="demoSet('stamina', 30, true)"><i class="hgi-stroke hgi-energy-ellipse"></i>Stamina 30%</button>
            <button class="demo-btn btn-stamina" onclick="demoSet('stamina', 100, false)"><i class="hgi-stroke hgi-energy-ellipse"></i>Stamina elrejt</button>
            <button class="demo-btn btn-food"    onclick="demoSet('food',   60, true)"><i class="hgi-stroke hgi-bread-04"></i>Étel 60%</button>
            <button class="demo-btn btn-water"   onclick="demoSet('water',  45, true)"><i class="hgi-stroke hgi-water"></i>Ital 45%</button>
            <button class="demo-btn btn-oxygen"  onclick="demoSet('oxygen', 40, true)"><i class="hgi-stroke hgi-bubble"></i>Oxigén 40%</button>
            <button class="demo-btn btn-oxygen"  onclick="demoSet('oxygen', 100, false)"><i class="hgi-stroke hgi-bubble"></i>Oxigén elrejt</button>
            <button class="demo-btn btn-stress"  onclick="demoSet('stress', 80, true)"><i class="hgi-stroke hgi-mental-health"></i>Stressz 80%</button>
            <button class="demo-btn btn-stress"  onclick="demoSet('stress', 0,  false)"><i class="hgi-stroke hgi-mental-health"></i>Stressz elrejt</button>
        </div>

        <div class="code-label">Lua példa – fvg-needs</div>
        <code>-- fvg-needs client.lua
exports['fvg-hud']:SetModuleValue('food',  playerFood,  true)
exports['fvg-hud']:SetModuleValue('water', playerWater, true)

-- fvg-stress client.lua
exports['fvg-hud']:SetModuleValue('stress', stressLevel, stressLevel > 0)</code>
    </div>


<!-- ══════════════════════════════════════════════ -->
<!--  2. ToggleModule                               -->
<!-- ══════════════════════════════════════════════ -->
    <div class="card">
        <div class="export-sig">exports['fvg-hud']:ToggleModule(id, state)</div>
        <span class="export-side side-client">Client</span>
        <div class="export-desc">
            Be- vagy kikapcsol egy HUD modult a játékos képernyőjén. Az <strong>fvg-hudmenu</strong> ezt hívja majd,
            amikor a játékos saját maga állítja be a látható elemeket.
        </div>

        <table class="param-table">
            <thead><tr><th>Paraméter</th><th>Típus</th><th>Leírás</th></tr></thead>
            <tbody>
                <tr><td class="param-name">id</td>    <td class="param-type">string</td>  <td>A modul azonosítója</td></tr>
                <tr><td class="param-name">state</td> <td class="param-type">boolean</td> <td><code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">true</code> = bekapcsol, <code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">false</code> = kikapcsol</td></tr>
            </tbody>
        </table>

        <div class="info-bar">
            <i class="hgi-stroke hgi-information-circle"></i>
            <span>A <strong>ToggleModule</strong> a játékos preferenciáját kezeli – nem befolyásolja a kondicionálisan rejtett modulokat (pl. pajzs, stamina, oxigén), amelyek a játékmenet alapján automatikusan jelennek meg.</span>
        </div>

        <div class="code-label">Interaktív toggle demo</div>
        <div class="toggle-grid" id="toggle-grid"></div>

        <div class="code-label">Lua példa – fvg-hudmenu</div>
        <code>-- fvg-hudmenu client.lua
local isOn = exports['fvg-hud']:GetModuleState('stamina')
exports['fvg-hud']:ToggleModule('stamina', not isOn)</code>
    </div>


<!-- ══════════════════════════════════════════════ -->
<!--  3. GetModuleState                             -->
<!-- ══════════════════════════════════════════════ -->
    <div class="card">
        <div class="export-sig">exports['fvg-hud']:GetModuleState(id) → boolean</div>
        <span class="export-side side-client">Client</span>
        <div class="export-desc">
            Visszaadja, hogy az adott modul jelenleg engedélyezett-e a játékosnál.
            Az <strong>fvg-hudmenu</strong> ezzel szinkronizálja a menü kapcsolóinak állapotát.
        </div>

        <table class="param-table">
            <thead><tr><th>Paraméter</th><th>Típus</th><th>Leírás</th></tr></thead>
            <tbody>
                <tr><td class="param-name">id</td> <td class="param-type">string</td> <td>A modul azonosítója</td></tr>
            </tbody>
        </table>

        <div class="demo-row" id="state-readout-row">
            <button class="demo-btn btn-neutral" onclick="demoGetState('health')"> <i class="hgi-stroke hgi-heart-check"></i>Élet állapota</button>
            <button class="demo-btn btn-neutral" onclick="demoGetState('shield')"> <i class="hgi-stroke hgi-shield-02"></i>Pajzs állapota</button>
            <button class="demo-btn btn-neutral" onclick="demoGetState('food')">   <i class="hgi-stroke hgi-bread-04"></i>Étel állapota</button>
            <button class="demo-btn btn-neutral" onclick="demoGetState('stress')"> <i class="hgi-stroke hgi-mental-health"></i>Stressz állapota</button>
        </div>
        <div id="state-result" style="margin-top:10px;font-size:13px;color:var(--fvg-text-sec);min-height:20px;font-family:monospace;"></div>

        <div class="code-label">Lua példa</div>
        <code>-- Lekérjük az állapotot, majd inverz kapcsolás
local active = exports['fvg-hud']:GetModuleState('food')
-- active = true / false</code>
    </div>


<!-- ══════════════════════════════════════════════ -->
<!--  4. RegisterModule                             -->
<!-- ══════════════════════════════════════════════ -->
    <div class="card">
        <div class="export-sig">exports['fvg-hud']:RegisterModule(id, tickFn)</div>
        <span class="export-side side-client">Client</span>
        <div class="export-desc">
            Új modult regisztrál a HUD rendszerbe. Külső scriptek saját HUD elemet adhatnak hozzá anélkül,
            hogy az <code style="display:inline;color:#a78bfa;font-size:12px">fvg-hud</code> magját módosítani kellene.
            A <code style="display:inline;color:#a78bfa;font-size:12px">tickFn</code> minden <code style="display:inline;color:#f59e0b;font-size:12px">Config.TickRate</code> ms-ben egyszer fut le,
            és megkapja az aktuális ped handlert.
        </div>

        <table class="param-table">
            <thead><tr><th>Paraméter</th><th>Típus</th><th>Leírás</th></tr></thead>
            <tbody>
                <tr><td class="param-name">id</td>     <td class="param-type">string</td>   <td>Egyedi modul azonosító (pl. <code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">fuel</code>)</td></tr>
                <tr><td class="param-name">tickFn</td> <td class="param-type">function</td> <td>Tick callback: <code style="display:inline;color:#7dd3fc;background:rgba(0,0,0,0.3);padding:1px 5px;border-radius:3px">function(ped)</code></td></tr>
            </tbody>
        </table>

        <div class="info-bar" style="margin-bottom:14px">
            <i class="hgi-stroke hgi-information-circle"></i>
            <span>A modult a <code style="color:#f59e0b">config.lua</code> <code style="color:#f59e0b">Config.Modules</code> táblájába is fel kell venni, különben a rendszer figyelmen kívül hagyja. A HUD vizuális megjelenéséhez add hozzá az ikont és a <code style="color:#f59e0b">low</code> küszöböt a <code style="color:#f59e0b">html/script.js</code> <code style="color:#f59e0b">MODULE_DEFS</code> objektumába.</span>
        </div>

        <div class="module-grid">
            <div class="module-chip chip-health"> <i class="hgi-stroke hgi-heart-check"></i>      <span>health</span></div>
            <div class="module-chip chip-shield"> <i class="hgi-stroke hgi-shield-02"></i>        <span>shield</span></div>
            <div class="module-chip chip-stamina"><i class="hgi-stroke hgi-energy-ellipse"></i>   <span>stamina</span></div>
            <div class="module-chip chip-food">   <i class="hgi-stroke hgi-bread-04"></i>         <span>food</span></div>
            <div class="module-chip chip-water">  <i class="hgi-stroke hgi-water"></i>            <span>water</span></div>
            <div class="module-chip chip-oxygen"> <i class="hgi-stroke hgi-bubble"></i>           <span>oxygen</span></div>
            <div class="module-chip chip-stress"> <i class="hgi-stroke hgi-mental-health"></i>    <span>stress</span></div>
        </div>

        <div class="code-label">Lua példa – külső script (pl. fvg-vehicle)</div>
        <code>-- fvg-vehicle/client/client.lua
-- 1. Config.Modules-ba felvesszük (fvg-hud/config.lua):
--    fuel = { enabled = true, order = 8 }
--
-- 2. MODULE_DEFS-be (fvg-hud/html/script.js):
--    fuel: { label: 'Üzemanyag', icon: 'hgi-stroke hgi-gas-pipe', low: 15 }
--
-- 3. Modul regisztrálása külső scriptből:
exports['fvg-hud']:RegisterModule('fuel', function(ped)
    local veh = GetVehiclePedIsIn(ped, false)
    if not DoesEntityExist(veh) then
        exports['fvg-hud']:SetModuleValue('fuel', 0, false)
        return
    end
    local fuel = math.floor(GetVehicleFuelLevel(veh))
    exports['fvg-hud']:SetModuleValue('fuel', fuel, true)
end)</code>
    </div>
</section>


<!-- ══════════════════════════════════════════════ -->
<!--  Élő HUD demo                                  -->
<!-- ══════════════════════════════════════════════ -->
<div id="live-hud"></div>


<!-- ══════════════════════════════════════════════ -->
<!--  SCRIPT                                        -->
<!-- ══════════════════════════════════════════════ -->
<script>
    // ── Modul definíciók ────────────────────────────────────
    const MODS = {
        health:  { label: 'Élet',    icon: 'hgi-stroke hgi-heart-check',    low: 25, val: 100, visible: true  },
        shield:  { label: 'Pajzs',   icon: 'hgi-stroke hgi-shield-02',      low: 20, val: 100, visible: false },
        stamina: { label: 'Stamina', icon: 'hgi-stroke hgi-energy-ellipse', low: 15, val: 100, visible: false },
        food:    { label: 'Étel',    icon: 'hgi-stroke hgi-bread-04',       low: 20, val: 100, visible: true  },
        water:   { label: 'Ital',    icon: 'hgi-stroke hgi-water',          low: 20, val: 100, visible: true  },
        oxygen:  { label: 'Oxigén',  icon: 'hgi-stroke hgi-bubble',         low: 25, val: 100, visible: false },
        stress:  { label: 'Stressz', icon: 'hgi-stroke hgi-mental-health',  low: 70, val: 0,   visible: false },
    };

    // Modul enable state (ToggleModule demóhoz)
    const modEnabled = {};
    Object.keys(MODS).forEach(id => modEnabled[id] = true);

    const hudRoot = document.getElementById('live-hud');

    // ── HUD build ───────────────────────────────────────────
    function buildHud() {
        hudRoot.innerHTML = '';
        Object.entries(MODS).forEach(([id, def]) => {
            const el = document.createElement('div');
            el.id = 'lm-' + id;
            el.className = 'fvg-hud-module fvg-mod-' + id + (def.visible && modEnabled[id] ? '' : ' hidden');
            el.innerHTML = `
                <i class="mod-icon ${def.icon}"></i>
                <div class="mod-body">
                    <span class="mod-label">${def.label}</span>
                    <div class="mod-track"><div class="mod-fill${def.val <= def.low ? ' low' : ''}" id="lf-${id}" style="width:${def.val}%"></div></div>
                </div>
                <span class="mod-val" id="lv-${id}">${def.val}%</span>
            `;
            hudRoot.appendChild(el);
        });
    }
    buildHud();

    // ── SetModuleValue demo ──────────────────────────────────
    function demoSet(id, value, visible) {
        const def = MODS[id];
        if (!def) return;
        def.val     = value;
        def.visible = visible;

        const el = document.getElementById('lm-' + id);
        const fill = document.getElementById('lf-' + id);
        const val  = document.getElementById('lv-' + id);
        if (!el || !fill || !val) return;

        fill.style.width = value + '%';
        val.textContent  = value + '%';
        fill.classList.toggle('low', value <= def.low);

        if (visible && modEnabled[id]) {
            el.classList.remove('hidden');
        } else {
            el.classList.add('hidden');
        }
    }

    // ── ToggleModule demo ────────────────────────────────────
    function buildToggleGrid() {
        const grid = document.getElementById('toggle-grid');
        grid.innerHTML = '';
        Object.entries(MODS).forEach(([id, def]) => {
            const pill = document.createElement('div');
            pill.className = 'toggle-pill active';
            pill.id = 'tp-' + id;
            pill.innerHTML = `<i class="${def.icon}"></i>${def.label}`;
            pill.addEventListener('click', () => {
                modEnabled[id] = !modEnabled[id];
                pill.classList.toggle('active', modEnabled[id]);

                const el = document.getElementById('lm-' + id);
                if (el) {
                    if (modEnabled[id] && MODS[id].visible) {
                        el.classList.remove('hidden');
                    } else {
                        el.classList.add('hidden');
                    }
                }
            });
            grid.appendChild(pill);
        });
    }
    buildToggleGrid();

    // ── GetModuleState demo ──────────────────────────────────
    function demoGetState(id) {
        const state = modEnabled[id];
        const res = document.getElementById('state-result');
        res.innerHTML = `→ GetModuleState(<span style="color:#a78bfa">'${id}'</span>) = <span style="color:${state ? '#22c55e' : '#ef4444'}">${state}</span>`;
    }
</script>

</body>
</html>